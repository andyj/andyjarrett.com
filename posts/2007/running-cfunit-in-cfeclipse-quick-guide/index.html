<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="description" content="Andy Jarrett // Code. Develop. Create.">
<meta name="author" content="Andy Jarrett">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Running CFUnit in CFEclipse quick guide</title>
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Running CFUnit in CFEclipse quick guide">
<meta name="twitter:description" content="Go to AndyJarrett.com for more">
<meta name="twitter:creator" content="@andyj" />
<meta property="og:title" content="Running CFUnit in CFEclipse quick guide">
<meta property="og:description" content="Go to AndyJarrett.com for more">
<meta property="og:image" content="https://www.andyjarrett.com/public/img/hero.og.image">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="canonical" href="https://www.andyjarrett.com/posts/2007/running-cfunit-in-cfeclipse-quick-guide/">
<link rel="icon" href="/public/img/AJ_ICON.png" type="image/x-icon">
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.andyjarrett.com//feed.xml"/>
<link rel="alternate" type="application/rss+xml" title="RSS" href="https://feeds.feedburner.com/andyj"/>
<link rel="sitemap" href="https://www.andyjarrett.com//sitemap.xml" type="application/xml" />
<link rel="stylesheet" href="https://bootswatch.com/5/materia/bootstrap.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="/public/css/style.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@3.0.1/dist/cookieconsent.css">
<link rel="stylesheet" href="/public/prismjs/prism.css">
  <script src="https://unpkg.com/htmx.org@2.0.2" integrity="sha384-Y7hw+L/jvKeWIRRkqWYfPcvVxHzVzn5REgzbawhxAuQGwX1XWe70vji+VSeHOThJ" crossorigin="anonymous"></script>

</head>
<body>
  <div class="container border-bottom pb-2">
  <header class="d-flex flex-wrap justify-content-center">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
      <span class="fs-2">Andy Jarrett // <span class="lead">Code. Develop. Create.</span></span>
    </a>
    <ul class="nav nav-pills">
      <li class="nav-item  p-2">
        <a href="/" class="btn btn-outline-primary rounded-circle p-3 lh-1">
          <i class="bi bi-house fs-5"></i>
          <span class="visually-hidden">Dismiss</span>
        </a>
      </li>
      <li class="nav-item  p-2">
        <a href="/feed.xml" class="btn btn-outline-primary rounded-circle p-3 lh-1">
          <i class="bi bi-rss fs-5"></i>
        </a>
      </li>
      <li class="nav-item  p-2">
        <a href="/linktree" class="btn btn-outline-primary rounded-circle p-3 lh-1" title="Linktree for Andy Jarrett">
          <i class="bi bi-tree fs-5"></i>
        </a>
      </li>
      <li class="nav-item  p-2">
        <a href="https://buymeacoffee.com/mailgw" class="btn btn-outline-primary rounded-circle p-3 lh-1">
          <i class="bi bi-cup-hot-fill fs-5"></i>
        </a>
      </li>
    </ul>
  </header>
</div>  


  <div class="container">
    <div class="my-1 text-center text-primary" role="alert">
      <a class="text-decoration-none badge text-bg-primary" href="https://bsky.app/profile/andyjarrett.com">
        Find me and reach out on <i class="bi bi-cloud me-2"></i>BlueSky
      </a>
    </div>

    <main>
      <article>
        <header>
          <h1 class="mt-5 mb-5"><b>Running CFUnit in CFEclipse quick guide</b></h1>
        </header>

        <section class="row">
          <div class="col-md-9 col-12">
            <section class="mw fw-lighter fs-5">
              
<p>As you might of <a href="http://www.markdrew.co.uk/blog/index.cfm/2007/1/11/CFUnit-in-CFEclipse">heard</a> <a href="http://cfunit.sourceforge.net/">CFUnit</a> is now integrated into the beta build of <a href="http://www.cfeclipse.org">CFEclipse</a>. To bring you up-to-speed about <a href="http://cfunit.sourceforge.net/">CFUnit</a>(incase you didn't know); CFUnit is a unit testing framework for ColdFusion, modelled after the popular JUnit framework. By building test units while creating your app you can ensure that your methods (cffunctions) and components overall behave as expected. If you are totally new to CFUnit you might want to check out the references at the end of this post.</p><p>So who is this guide for. Well nearly anyone who wants to get started with CFUnit within CFEclipse. For reference I am working on <a href="http://www.eclipse.org">Eclipse 3.2.1</a> with <a href="http://www.cfeclipse.org">CFEclipse 1.3 Beta RC2 1.2.9.7</a> and im gonna assume you've got both on your sytem. This guide doesn't really go into all the benefits of CFUnit (though by the end of this you should be able to seem them) so if you want more details afterwards check out the points of reference at the end.</p> <p>With Eclipse and CFEclipse running we are gonna need to download CFUnit (v2.0 Beta 3 or later) and we can get that from <a href="http://sourceforge.net/project/showfiles.php?group_id=145385">Sourceforge</a>. To install couldn't be easier. Inside the .zip file you just downloaded is a folder called "net" put this on the root of your web-server (later on you can map this, for now lets keep this easy). You can test your installation by hitting <a href="http://localhost/net/sourceforge/cfunit/CFUnitExample/mytest.cfml">http://localhost/net/sourceforge/cfunit/CFUnitExample/mytest.cfml</a></p><p>Next open Eclipse and go to <em>Preferences > CFEclipse > CFUnit</em> and for the façade url enter <em>localhost.net.sourceforge.cfunit.framework</em>. If you are running on test environment from port 8500 then enter <em>localhost:8500.net.sourceforge.cfunit.framework</em>. See fig.1</p><p><img src="/andy/blog/img/blogimg/Screenshot_preference_panel.png" alt="fig.1" /></p><p>Now that CFUnit is set up we need to create a new project. For this demo i'm creating a new project called "CFUnit_example" which will be a folder off my root (<a href="http://localhost/CFUnit_example">http://localhost/CFUnit_example</a>). We also need to open up the CFUnit view. Go to <em>Window > Show View > Other > CFUnit</em>, this will open a new tab on the (usually on the bottom of the screen). Personally I have the tab set up as a fast view. To do this click on the CFUnit icon in the view's title bar and select Fast View from the menu that appears. The CFUnit view is closed, and its icon appears in the shortcut toolbar. (see fig. 2)</p><p><img src="/andy/blog/img/blogimg/Screenshot_fastview_icon.png" alt="Fastview" /></p><p>Clicking the CFUnit icon alternately opens and closes the view. To restore the view in its previous place in the perspective, right-click on the Fast View icon and select Fast View.</p><p>We are now set to create our component (cfc). For the record i'm <span style="text-decoration:line-through">stealing</span> borrowing most of the content from Robert's <a href="http://cfunit.sourceforge.net/help-primer.php">CFUnit primer</a> for the next part of this guide and applying it to CFEclipse.</p><p>1. The Component. MyCFC.cfc<br/>This is going to be your CFC, whether it be DAO or business object for now it's going to be a simple component that add and subtract two local vars and another method just returns a true value. <code><cfcomponent displayname="MyCFC">   <cfproperty name="temp1" type="string"> <cfproperty name="temp2" type="string"> <cffunction name="init" returntype="MyCFC"   description="I initilise the component">   <cfset VARIABLES.temp1 = 3>   <cfset VARIABLES.temp2 = 2>   <cfreturn THIS> </cffunction> <cffunction name="add" returntype="numeric"  description="I add and return two local variables">      <cfreturn (VARIABLES.temp1 + VARIABLES.temp2)>  </cffunction> <cffunction name="sub" returntype="numeric"  description="I subtract and return two local variables">     <cfreturn (VARIABLES.temp1 - VARIABLES.temp2)>  </cffunction> <cffunction name="returnTrue" returntype="boolean"   description="I return a true value">     <cfreturn false>  </cffunction></cfcomponent></code></p><p>The above component is a little different from the primer. I've added a third method, returnTrue(). This is to only to demonstrate another TestCase. More on this later, I don't want to throw everything at you straight away.</p><p>2. Test directory. <br/>Create a new sub directory called "test" in your projects. All our tests will be run from this directory. The only stipulation on this folder is that it be accessible by ColdFusion. By keeping the tests within a folder within the project they are better grouped together.</p><p>3. The unit test. MyCFCTest.cfc<br/>The following component is what we will be running later on to test MyCFC.cfc. <code><cfcomponent displayname="MyCFCTest" extends="net.sourceforge.cfunit.framework.TestCase"> <cfproperty name="tempCFC" type="MyCFC">  <cffunction name="setUp" returntype="void" access="public">   <cfset VARIABLES.tempCFC = CreateObject("component", "CFUnit_Example.MyCFC").init()>  </cffunction> <cffunction name="testAdd" returntype="void" access="public">   <cfset var result = VARIABLES.tempCFC.add()>    <cfinvoke method="assertEquals">      <cfinvokeargument name="expected" value="#numberFormat(5.0)#">      <cfinvokeargument name="actual" value="#numberFormat(result)#">   </cfinvoke> </cffunction> <cffunction name="testSub" returntype="void" access="public">   <cfset var result = VARIABLES.tempCFC.sub()>    <cfinvoke method="assertEquals">      <cfinvokeargument name="expected" value="#numberFormat(1.0)#">      <cfinvokeargument name="actual" value="#numberFormat(result)#">   </cfinvoke>   <!--- You could write this as     <cfset assertEquals(expected=numberFormat(1.0), actual=numberFormat(result))>   --->  </cffunction> <cffunction name="testReturnTrue" returntype="void" access="public">    <cfset var result = VARIABLES.tempCFC.ReturnTrue()>   <cfinvoke method="assertTrue">      <cfinvokeargument name="Message" value="Your returnTrue method should be returning a true value">     <cfinvokeargument name="condition" value="#result#">    </cfinvoke>   <!--- You could write this as     <cfset assertTrue(Message="Your returnTrue method should be returning a true value",                actual=result)>   --->  </cffunction></cfcomponent></code></p><p>MyCFCTest.cfc is a little different from Robs primer version to accommodate the extra method, "returnTrue()", that I added to MyCFC.cfc. All CFUnit tests must extend the "TestCase" CFC from the CFUnit framework. This CFC tests the "add","sub", and "returnTrue()" methods of our "MyCFC" component. All these tests do is run the method to be tested, and then asserts that the value returned was equal to what we expected. If it is not equal, then the test fails. The assertEquals() method is a part of the TestCase class which we are extending. In total there are 6 TestCase's <ul> <li><b>assertTrue</b>(message, condition): Asserts that the condition is true. If it isn't, the test fails and displays the given message.</li>  <li><b>assertFalse</b>(message, condition): Asserts that the condition is false. If it isn't, the test fails and displays the given message.</li>  <li><b>assertEquals</b>(message, expected, actual): Asserts that two objects are equal. If they are not, the test fails and displays the given message.</li>  <li><b>assertSame</b>(message, expected, actual): Asserts that two objects refer to the same object in memory. If they do not, the test fails and displays the given message.</li>  <li><b>assertOutputs</b>(template, expected, message): Asserts that a template (*.cfm file) or CF Module contains the expected output. If it doesn't, the test fails and displays the given message.</li><li><b>fail</b>(message): This will cause the test to fail and display the given message.</li></ul></p><p>4. Running the test. <br/>Believe it or not we've one all the coding, all that is left is to test our component. To make life easier for yourself (for this next part) you might want to take the CFUnit off fast view?  <em>Right-click on the Fast View icon and select Fast View</em>. To find your tests the view incorporates a file search similar to Macs Spotlight. Just click on browse and start typing the name of your test unit. In our case type m-y-c-f-c-t-e-s-t. See fig. 3<br/></p><p><img src="/andy/blog/img/blogimg/Screenshot_find_cfunit.png" alt="find screen" /></p><p>Select the test unit (MyCFCTest.cfc) then click run test and see the results. See fig. 4</p><p><img src="/andy/blog/img/blogimg/Screenshot_tests_ran.png" alt="final test" /></p><p>If you want to see how the errors look then go to "returnTrue()" in MyCFC.cfc and set the return value to FALSE and re-run the tests.</p><p>And once again that's it. This is a basic guide, and just something to get your feet wet with. Hopefully you can see why test units will be beneficial to your development cycle and with this integrated into CFEclipse how easy it will be to maintain them.</p><p>Before I end this with references I want to say a big thank you to <a href="http://www.rbdev.net/">Robert Blackburn (the man behind CFUnit)</a>, a lot of the content in this tutorial is his work and I merely cut n' pasted it together. I cannot stress enough to check out the points of reference below as the links cover more of CFUnit than this post can or does. If you have any questions then please check out the <a href="http://sourceforge.net/forum/?group_id=145385">CFUnit Forums</a></p><p>Points of reference: check these out.... they're not here for filler :o)<ul><li><a href="http://cfunit.sourceforge.net/">CFUnit</a></li><li><a href="http://cfunit.sourceforge.net/help-primer.php">CFUnit primer</a></li><li><a href="http://cfunit.sourceforge.net/docs.php">CFUnit Docs</a></li><li><a href="http://sourceforge.net/forum/?group_id=145385">CFUnit Forums</a></li><li><a href="http://www.fusionauthority.com/Techniques/Article.cfm/ArticleID:4560">Test Driven Development with ColdFusion Part I: An Introduction to Unit Testing</a></li><li><a href="http://www.fusionauthority.com/Techniques/Article.cfm/ArticleID:4568">Test Driven Development with ColdFusion Part II: Building Unit Tests with CFUnit</a></li><li><a href="http://www.fusionauthority.com/Techniques/Article.cfm/ArticleID:4560">Test Driven Development with ColdFusion Part III: Integrate your tests into CFEclipse using CFUnit-Ant</a></li><li><a href="http://rbdev.net/devblog/index.php?entry=entry070111-013357">rbdev.net: CFEclipse's CFUnit features now available</a></li><li><a href="http://www.rbdev.net/devblog/index.php?entry=entry061220-025014">rbdev.nt: New CFEclipse unit testing features</a></li></ul><br>
            </section>

            <footer>
              <p>
                <em>I’m here, learning and working away. If you liked this content and want to keep me going, consider
                  <a href="https://buymeacoffee.com/mailgw" title="Buy me a coffee!">buying me a coffee</a>.
                  Your support keeps this site running and the coffee brewing! ☕️
                </em>
              </p>
            </footer>

            <script
              src="https://giscus.app/client.js"
              data-repo="andyj/andyjarrett.com"
              data-repo-id="R_kgDOMjCDkQ"
              data-category="Announcements"
              data-category-id="DIC_kwDOMjCDkc4ChlfU"
              data-mapping="pathname"
              data-strict="0"
              data-reactions-enabled="1"
              data-emit-metadata="0"
              data-input-position="top"
              data-theme="preferred_color_scheme"
              data-lang="en"
              crossorigin="anonymous"
              async></script>
            <a name="comment"></a>
          </div>

          <aside class="col-md-3 col-12">
            <h4>Recent Posts</h4>
            
              <a href="/posts/2024/how-to-run-svrjs-with-docker-compose/" class="card-link link-underline-light">
                How to Run SVR.JS with Docker Compose <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/connection-pools-in-node-with-mariadb/" class="card-link link-underline-light">
                Connection pools in Node.js with MariaDB <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/understanding-variable-scoping-differences-between-lucee-5-and-lucee-6/" class="card-link link-underline-light">
                Understanding Variable Scoping Differences Between Lucee 5 and Lucee 6 <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/bluesky-now-has-over-10-million-users-and-i-was-number-56137/" class="card-link link-underline-light">
                Bluesky now has over 10 million users, and I was #56,137! <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/reclaiming-space-on-macos-from-docker-by-pruning-docker-raw/" class="card-link link-underline-light">
                Reclaiming Space on macOS from Docker by Pruning Docker.raw <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/how-to-instantly-index-your-website-with-indexnow-using-a-bash-script/" class="card-link link-underline-light">
                How to Instantly Index Your Website with IndexNow Using a Bash Script <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/nginx-redirect-loops-with-ssl-and-cloudflare/" class="card-link link-underline-light">
                NGINX redirect loops with SSL and CloudFlare <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
              <a href="/posts/2024/adding-local-storage-for-faster-development-to-the-alpinejs-rss-reader/" class="card-link link-underline-light">
                Adding localStorage to the Alpine.js RSS Reader <i class="bi bi-box-arrow-up-right"></i>
              </a>
              <hr>
            
          </aside>
        </section>
      </article>
    </main>
  </div>

  <footer class="container mt-5 border-top pt-2">
  <div class="row justify-content-md-center">
    <div class="col">
      ©AndyJarrett
      <a href="/linktree" title="Linktree for AndyJarrett" target="_blank"><i class="bi bi-tree"></i></a>
      <a href="/sitemap.xml" title="Site map for AndyJarrett.com" target="_blank"><i class="bi bi-map"></i></a>
      <!-- Home Link -->
      <a href="https://www.andyjarrett.com/" class=""><i class="bi bi-globe me-2"></i></a>
      <!-- linkedin Link -->
      <a rel="noopener noreferrer" href="https://www.linkedin.com/in/andyjarrett/" title="inkedIn" target="_blank"><i class="bi bi-linkedin me-2"></i></a>
      <!-- Twitter Link -->
      <a rel="noopener noreferrer" href="https://twitter.com/andyj" title="Twitter" target="_blank"><i class="bi bi-twitter me-2"></i></a>
      <!-- GitHub Link -->
      <a rel="noopener noreferrer" href="https://github.com/andyj" title="GitHub" target="_blank"><i class="bi bi-github me-2"></i></a>
      <!-- Stack Overflow Link -->
      <a rel="noopener noreferrer" href="https://stackoverflow.com/users/371761/andy-jarrett" title="Stack overflow" target="_blank"><i class="bi bi-stack-overflow me-2"></i></a>
      <!-- BlueSky Link -->
      <a rel="noopener noreferrer" href="https://bsky.app/profile/andyjarrett.com" title="BlueSky" target="_blank"><i class="bi bi-cloud me-2"></i></a>
      <!-- Instagram Link -->
      <a rel="noopener noreferrer" href="https://instagram.com/andyjarrett" title="Instragram" target="_blank"><i class="bi bi-instagram me-2"></i></a>
      <a rel="noopener noreferrer" href="https://buymeacoffee.com/mailgw" title="Buy me a coffee" target="_blank"><i class="bi bi-cup-hot-fill fs-5"></i></a>
    </div>
    <div class="col">
      <div class="text-end">
        <div class="btn-group">
          <a href="#" class="btn btn-secondary btn-sm" id="lightThemeButton" data-bs-theme-value="light">
            <i class="bi bi-sun"></i>
          </a>
          <a href="#" class="btn btn-secondary btn-sm" id="darkThemeButton" data-bs-theme-value="dark">
            <i class="bi bi-moon-stars-fill"></i>
          </a>
          <a href="#" class="btn btn-secondary btn-sm" id="autoThemeButton" data-bs-theme-value="auto">
            <i class="bi bi-circle-half"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script src="/public/js/toggle.js" type="text/javascript"></script>
<script src="/public/prismjs/prism.js"></script>
</body>
</html>